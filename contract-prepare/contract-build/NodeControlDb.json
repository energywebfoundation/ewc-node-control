{"abi":[{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getState","outputs":[{"components":[{"name":"dockerSha","type":"bytes"},{"name":"dockerName","type":"string"},{"name":"chainSpecSha","type":"bytes"},{"name":"chainSpecUrl","type":"string"},{"name":"isSigning","type":"bool"},{"name":"updateIntroduced","type":"uint256"},{"name":"updateConfirmed","type":"uint256"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"nodeControlLookUp","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getChainSpecUrl","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"currentState","outputs":[{"name":"dockerSha","type":"bytes"},{"name":"dockerName","type":"string"},{"name":"chainSpecSha","type":"bytes"},{"name":"chainSpecUrl","type":"string"},{"name":"isSigning","type":"bool"},{"name":"updateIntroduced","type":"uint256"},{"name":"updateConfirmed","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getChainSpecSha","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"setUpdateConfirmed","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getDockerName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"isUpdateConfirmed","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newLookUp","type":"address"}],"name":"changeLookUpContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_targetValidator","type":"address"},{"name":"_dockerSha","type":"bytes"},{"name":"_dockerName","type":"string"},{"name":"_chainSpecSha","type":"bytes"},{"name":"_chainSpecUrl","type":"string"},{"name":"_isSigning","type":"bool"}],"name":"setState","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getIsSigning","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getDockerSha","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_lookUpContract","type":"address"},{"name":"_initialOwner","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}],"bytecode":"60806040523480156200001157600080fd5b5060405160408062001b24833981018060405262000033919081019062000159565b600080546001600160a01b03191633178082556040516001600160a01b0391909116919060008051602062001b04833981519152908290a36200007c81620000a360201b60201c565b50600280546001600160a01b0319166001600160a01b039290921691909117905562000239565b6001600160a01b038116620000ef576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000e690620001d3565b60405180910390fd5b600080546040516001600160a01b038085169392169160008051602062001b0483398151915291a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b8051620001468162000214565b92915050565b805162000146816200022e565b600080604083850312156200016d57600080fd5b60006200017b85856200014c565b92505060206200018e8582860162000139565b9150509250929050565b6000620001a7601f83620001e5565b7f4e6577206f776e657220616464726573732063616e6e6f742062652030783000815260200192915050565b60208082528101620001468162000198565b90815260200190565b6000620001468262000208565b60006200014682620001ee565b6001600160a01b031690565b6200021f81620001ee565b81146200022b57600080fd5b50565b6200021f81620001fb565b6118bb80620002496000396000f3fe608060405234801561001057600080fd5b50600436106101005760003560e01c8063954029c911610097578063eab7ad9211610066578063eab7ad921461021c578063ee7ee0fd1461022f578063f2fde38b14610242578063fbd74f841461025557610100565b8063954029c9146101d0578063a999809f146101e3578063b71da0d1146101f6578063da5393d51461020957610100565b806370a05b18116100d357806370a05b1814610189578063715018a61461019c5780638da5cb5b146101a65780638f32d59b146101bb57610100565b80631bab58f5146101055780632c5653e21461012e57806332d91c0e146101435780636a56426114610163575b600080fd5b61011861011336600461138e565b610268565b60405161012591906117e5565b60405180910390f35b6101366105d3565b6040516101259190611797565b61015661015136600461138e565b6105e2565b60405161012591906116fd565b61017661017136600461138e565b610740565b6040516101259796959493929190611715565b61015661019736600461138e565b6109b4565b6101a4610ad9565b005b6101ae610b4a565b60405161012591906116e1565b6101c3610b5a565b60405161012591906116ef565b6101a46101de36600461138e565b610b6b565b6101566101f136600461138e565b610c44565b6101c361020436600461138e565b610d6a565b6101a461021736600461138e565b610d90565b6101a461022a3660046113d2565b610e02565b6101c361023d36600461138e565b610f97565b6101a461025036600461138e565b61106c565b61015661026336600461138e565b61109f565b610270611247565b600260009054906101000a90046001600160a01b03166001600160a01b0316636ddc4a076040518163ffffffff1660e01b815260040160206040518083038186803b1580156102be57600080fd5b505afa1580156102d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506102f691908101906113b4565b6001600160a01b0316336001600160a01b03161461033257604051600160e51b62461bcd028152600401610329906117a5565b60405180910390fd5b6001600160a01b03821660009081526001602081815260409283902083518154601f600260001961010097841615880201909216919091049081018490049093028101840190945260e084018281529092849284918401828280156103d85780601f106103ad576101008083540402835291602001916103d8565b820191906000526020600020905b8154815290600101906020018083116103bb57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561047a5780601f1061044f5761010080835404028352916020019161047a565b820191906000526020600020905b81548152906001019060200180831161045d57829003601f168201915b5050509183525050600282810180546040805160206001841615610100026000190190931694909404601f8101839004830285018301909152808452938101939083018282801561050c5780601f106104e15761010080835404028352916020019161050c565b820191906000526020600020905b8154815290600101906020018083116104ef57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156105a05780601f10610575576101008083540402835291602001916105a0565b820191906000526020600020905b81548152906001019060200180831161058357829003601f168201915b5050509183525050600482015460ff16151560208201526005820154604082015260069091015460609091015292915050565b6002546001600160a01b031681565b60025460408051600160e01b636ddc4a0702815290516060926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b15801561062a57600080fd5b505afa15801561063e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061066291908101906113b4565b6001600160a01b0316336001600160a01b03161461069557604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b03821660009081526001602081815260409283902060030180548451600294821615610100026000190190911693909304601f81018390048302840183019094528383529192908301828280156107345780601f1061070957610100808354040283529160200191610734565b820191906000526020600020905b81548152906001019060200180831161071757829003601f168201915b50505050509050919050565b60016020818152600092835260409283902080548451600294821615610100026000190190911693909304601f81018390048302840183019094528383529283918301828280156107d25780601f106107a7576101008083540402835291602001916107d2565b820191906000526020600020905b8154815290600101906020018083116107b557829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108705780601f1061084557610100808354040283529160200191610870565b820191906000526020600020905b81548152906001019060200180831161085357829003601f168201915b50505060028085018054604080516020601f60001961010060018716150201909416959095049283018590048502810185019091528181529596959450909250908301828280156109025780601f106108d757610100808354040283529160200191610902565b820191906000526020600020905b8154815290600101906020018083116108e557829003601f168201915b5050505060038301805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529495949350908301828280156109925780601f1061096757610100808354040283529160200191610992565b820191906000526020600020905b81548152906001019060200180831161097557829003601f168201915b5050505060048301546005840154600690940154929360ff9091169290915087565b60025460408051600160e01b636ddc4a0702815290516060926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b1580156109fc57600080fd5b505afa158015610a10573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610a3491908101906113b4565b6001600160a01b0316336001600160a01b031614610a6757604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b0382166000908152600160208181526040928390206002908101805485519481161561010002600019011691909104601f81018390048302840183019094528383529192908301828280156107345780601f1061070957610100808354040283529160200191610734565b610ae1610b5a565b610b0057604051600160e51b62461bcd028152600401610329906117d5565b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000546001600160a01b03165b90565b6000546001600160a01b0316331490565b600260009054906101000a90046001600160a01b03166001600160a01b0316636ddc4a076040518163ffffffff1660e01b815260040160206040518083038186803b158015610bb957600080fd5b505afa158015610bcd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610bf191908101906113b4565b6001600160a01b0316336001600160a01b031614610c2457604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b0316600090815260016020526040902043600690910155565b60025460408051600160e01b636ddc4a0702815290516060926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b158015610c8c57600080fd5b505afa158015610ca0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610cc491908101906113b4565b6001600160a01b0316336001600160a01b031614610cf757604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b038216600090815260016020818152604092839020820180548451600294821615610100026000190190911693909304601f81018390048302840183019094528383529192908301828280156107345780601f1061070957610100808354040283529160200191610734565b6001600160a01b0316600090815260016020526040902060068101546005909101541090565b610d98610b5a565b610db757604051600160e51b62461bcd028152600401610329906117d5565b6001600160a01b038116610de057604051600160e51b62461bcd028152600401610329906117b5565b600280546001600160a01b0319166001600160a01b0392909216919091179055565b600260009054906101000a90046001600160a01b03166001600160a01b0316636ddc4a076040518163ffffffff1660e01b815260040160206040518083038186803b158015610e5057600080fd5b505afa158015610e64573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610e8891908101906113b4565b6001600160a01b0316336001600160a01b031614610ebb57604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b038a166000908152600160205260409020610ede908a8a611286565b506001600160a01b038a166000908152600160208190526040909120610f0691018888611286565b506001600160a01b038a166000908152600160205260409020610f2d906002018686611286565b506001600160a01b038a166000908152600160205260409020610f54906003018484611286565b506001600160a01b0399909916600090815260016020526040902060048101805460ff19169a15159a909a17909955505043600590970196909655505050505050565b60025460408051600160e01b636ddc4a0702815290516000926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b158015610fdf57600080fd5b505afa158015610ff3573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061101791908101906113b4565b6001600160a01b0316336001600160a01b03161461104a57604051600160e51b62461bcd028152600401610329906117a5565b506001600160a01b031660009081526001602052604090206004015460ff1690565b611074610b5a565b61109357604051600160e51b62461bcd028152600401610329906117d5565b61109c816111c3565b50565b60025460408051600160e01b636ddc4a0702815290516060926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b1580156110e757600080fd5b505afa1580156110fb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061111f91908101906113b4565b6001600160a01b0316336001600160a01b03161461115257604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b03821660009081526001602081815260409283902080548451600294821615610100026000190190911693909304601f81018390048302840183019094528383529192908301828280156107345780601f1061070957610100808354040283529160200191610734565b6001600160a01b0381166111ec57604051600160e51b62461bcd028152600401610329906117c5565b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6040518060e001604052806060815260200160608152602001606081526020016060815260200160001515815260200160008152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106112c75782800160ff198235161785556112f4565b828001600101855582156112f4579182015b828111156112f45782358255916020019190600101906112d9565b50611300929150611304565b5090565b610b5791905b80821115611300576000815560010161130a565b803561132981611864565b92915050565b805161132981611864565b803561132981611878565b60008083601f84011261135757600080fd5b50813567ffffffffffffffff81111561136f57600080fd5b60208301915083600182028301111561138757600080fd5b9250929050565b6000602082840312156113a057600080fd5b60006113ac848461131e565b949350505050565b6000602082840312156113c657600080fd5b60006113ac848461132f565b60008060008060008060008060008060c08b8d0312156113f157600080fd5b60006113fd8d8d61131e565b9a505060208b013567ffffffffffffffff81111561141a57600080fd5b6114268d828e01611345565b995099505060408b013567ffffffffffffffff81111561144557600080fd5b6114518d828e01611345565b975097505060608b013567ffffffffffffffff81111561147057600080fd5b61147c8d828e01611345565b955095505060808b013567ffffffffffffffff81111561149b57600080fd5b6114a78d828e01611345565b935093505060a06114ba8d828e0161133a565b9150509295989b9194979a5092959850565b6114d581611803565b82525050565b6114d58161180e565b60006114ef826117f6565b6114f981856117fa565b935061150981856020860161182a565b6115128161185a565b9093019392505050565b6114d58161181f565b60006115326013836117fa565b7f4572726f723a206f6e6c794c6f67696320446200000000000000000000000000815260200192915050565b600061156b6029836117fa565b7f4572726f723a206e65774c6f6f6b5570206973206e6f7420616c6c6f7765642081527f746f206265203078300000000000000000000000000000000000000000000000602082015260400192915050565b60006115ca601f836117fa565b7f4e6577206f776e657220616464726573732063616e6e6f742062652030783000815260200192915050565b60006116036013836117fa565b7f53656e646572206973206e6f74206f776e657200000000000000000000000000815260200192915050565b805160e08084526000919084019061164782826114e4565b9150506020830151848203602086015261166182826114e4565b9150506040830151848203604086015261167b82826114e4565b9150506060830151848203606086015261169582826114e4565b91505060808301516116aa60808601826114db565b5060a08301516116bd60a08601826116d8565b5060c08301516116d060c08601826116d8565b509392505050565b6114d581610b57565b6020810161132982846114cc565b6020810161132982846114db565b6020808252810161170e81846114e4565b9392505050565b60e08082528101611726818a6114e4565b9050818103602083015261173a81896114e4565b9050818103604083015261174e81886114e4565b9050818103606083015261176281876114e4565b905061177160808301866114db565b61177e60a08301856116d8565b61178b60c08301846116d8565b98975050505050505050565b60208101611329828461151c565b6020808252810161132981611525565b602080825281016113298161155e565b60208082528101611329816115bd565b60208082528101611329816115f6565b6020808252810161170e818461162f565b5190565b90815260200190565b600061132982611813565b151590565b6001600160a01b031690565b600061132982611803565b60005b8381101561184557818101518382015260200161182d565b83811115611854576000848401525b50505050565b601f01601f191690565b61186d81611803565b811461109c57600080fd5b61186d8161180e56fea265627a7a723058208d3252f879d75c1a82f7abd8f82eb04b652d439d3e794f19c0487f71c6ece2026c6578706572696d656e74616cf500378be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0","contractName":"NodeControlDb","deployedBytecode":"608060405234801561001057600080fd5b50600436106101005760003560e01c8063954029c911610097578063eab7ad9211610066578063eab7ad921461021c578063ee7ee0fd1461022f578063f2fde38b14610242578063fbd74f841461025557610100565b8063954029c9146101d0578063a999809f146101e3578063b71da0d1146101f6578063da5393d51461020957610100565b806370a05b18116100d357806370a05b1814610189578063715018a61461019c5780638da5cb5b146101a65780638f32d59b146101bb57610100565b80631bab58f5146101055780632c5653e21461012e57806332d91c0e146101435780636a56426114610163575b600080fd5b61011861011336600461138e565b610268565b60405161012591906117e5565b60405180910390f35b6101366105d3565b6040516101259190611797565b61015661015136600461138e565b6105e2565b60405161012591906116fd565b61017661017136600461138e565b610740565b6040516101259796959493929190611715565b61015661019736600461138e565b6109b4565b6101a4610ad9565b005b6101ae610b4a565b60405161012591906116e1565b6101c3610b5a565b60405161012591906116ef565b6101a46101de36600461138e565b610b6b565b6101566101f136600461138e565b610c44565b6101c361020436600461138e565b610d6a565b6101a461021736600461138e565b610d90565b6101a461022a3660046113d2565b610e02565b6101c361023d36600461138e565b610f97565b6101a461025036600461138e565b61106c565b61015661026336600461138e565b61109f565b610270611247565b600260009054906101000a90046001600160a01b03166001600160a01b0316636ddc4a076040518163ffffffff1660e01b815260040160206040518083038186803b1580156102be57600080fd5b505afa1580156102d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506102f691908101906113b4565b6001600160a01b0316336001600160a01b03161461033257604051600160e51b62461bcd028152600401610329906117a5565b60405180910390fd5b6001600160a01b03821660009081526001602081815260409283902083518154601f600260001961010097841615880201909216919091049081018490049093028101840190945260e084018281529092849284918401828280156103d85780601f106103ad576101008083540402835291602001916103d8565b820191906000526020600020905b8154815290600101906020018083116103bb57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561047a5780601f1061044f5761010080835404028352916020019161047a565b820191906000526020600020905b81548152906001019060200180831161045d57829003601f168201915b5050509183525050600282810180546040805160206001841615610100026000190190931694909404601f8101839004830285018301909152808452938101939083018282801561050c5780601f106104e15761010080835404028352916020019161050c565b820191906000526020600020905b8154815290600101906020018083116104ef57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156105a05780601f10610575576101008083540402835291602001916105a0565b820191906000526020600020905b81548152906001019060200180831161058357829003601f168201915b5050509183525050600482015460ff16151560208201526005820154604082015260069091015460609091015292915050565b6002546001600160a01b031681565b60025460408051600160e01b636ddc4a0702815290516060926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b15801561062a57600080fd5b505afa15801561063e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061066291908101906113b4565b6001600160a01b0316336001600160a01b03161461069557604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b03821660009081526001602081815260409283902060030180548451600294821615610100026000190190911693909304601f81018390048302840183019094528383529192908301828280156107345780601f1061070957610100808354040283529160200191610734565b820191906000526020600020905b81548152906001019060200180831161071757829003601f168201915b50505050509050919050565b60016020818152600092835260409283902080548451600294821615610100026000190190911693909304601f81018390048302840183019094528383529283918301828280156107d25780601f106107a7576101008083540402835291602001916107d2565b820191906000526020600020905b8154815290600101906020018083116107b557829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108705780601f1061084557610100808354040283529160200191610870565b820191906000526020600020905b81548152906001019060200180831161085357829003601f168201915b50505060028085018054604080516020601f60001961010060018716150201909416959095049283018590048502810185019091528181529596959450909250908301828280156109025780601f106108d757610100808354040283529160200191610902565b820191906000526020600020905b8154815290600101906020018083116108e557829003601f168201915b5050505060038301805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529495949350908301828280156109925780601f1061096757610100808354040283529160200191610992565b820191906000526020600020905b81548152906001019060200180831161097557829003601f168201915b5050505060048301546005840154600690940154929360ff9091169290915087565b60025460408051600160e01b636ddc4a0702815290516060926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b1580156109fc57600080fd5b505afa158015610a10573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610a3491908101906113b4565b6001600160a01b0316336001600160a01b031614610a6757604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b0382166000908152600160208181526040928390206002908101805485519481161561010002600019011691909104601f81018390048302840183019094528383529192908301828280156107345780601f1061070957610100808354040283529160200191610734565b610ae1610b5a565b610b0057604051600160e51b62461bcd028152600401610329906117d5565b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b6000546001600160a01b03165b90565b6000546001600160a01b0316331490565b600260009054906101000a90046001600160a01b03166001600160a01b0316636ddc4a076040518163ffffffff1660e01b815260040160206040518083038186803b158015610bb957600080fd5b505afa158015610bcd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610bf191908101906113b4565b6001600160a01b0316336001600160a01b031614610c2457604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b0316600090815260016020526040902043600690910155565b60025460408051600160e01b636ddc4a0702815290516060926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b158015610c8c57600080fd5b505afa158015610ca0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610cc491908101906113b4565b6001600160a01b0316336001600160a01b031614610cf757604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b038216600090815260016020818152604092839020820180548451600294821615610100026000190190911693909304601f81018390048302840183019094528383529192908301828280156107345780601f1061070957610100808354040283529160200191610734565b6001600160a01b0316600090815260016020526040902060068101546005909101541090565b610d98610b5a565b610db757604051600160e51b62461bcd028152600401610329906117d5565b6001600160a01b038116610de057604051600160e51b62461bcd028152600401610329906117b5565b600280546001600160a01b0319166001600160a01b0392909216919091179055565b600260009054906101000a90046001600160a01b03166001600160a01b0316636ddc4a076040518163ffffffff1660e01b815260040160206040518083038186803b158015610e5057600080fd5b505afa158015610e64573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610e8891908101906113b4565b6001600160a01b0316336001600160a01b031614610ebb57604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b038a166000908152600160205260409020610ede908a8a611286565b506001600160a01b038a166000908152600160208190526040909120610f0691018888611286565b506001600160a01b038a166000908152600160205260409020610f2d906002018686611286565b506001600160a01b038a166000908152600160205260409020610f54906003018484611286565b506001600160a01b0399909916600090815260016020526040902060048101805460ff19169a15159a909a17909955505043600590970196909655505050505050565b60025460408051600160e01b636ddc4a0702815290516000926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b158015610fdf57600080fd5b505afa158015610ff3573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061101791908101906113b4565b6001600160a01b0316336001600160a01b03161461104a57604051600160e51b62461bcd028152600401610329906117a5565b506001600160a01b031660009081526001602052604090206004015460ff1690565b611074610b5a565b61109357604051600160e51b62461bcd028152600401610329906117d5565b61109c816111c3565b50565b60025460408051600160e01b636ddc4a0702815290516060926001600160a01b031691636ddc4a07916004808301926020929190829003018186803b1580156110e757600080fd5b505afa1580156110fb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061111f91908101906113b4565b6001600160a01b0316336001600160a01b03161461115257604051600160e51b62461bcd028152600401610329906117a5565b6001600160a01b03821660009081526001602081815260409283902080548451600294821615610100026000190190911693909304601f81018390048302840183019094528383529192908301828280156107345780601f1061070957610100808354040283529160200191610734565b6001600160a01b0381166111ec57604051600160e51b62461bcd028152600401610329906117c5565b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6040518060e001604052806060815260200160608152602001606081526020016060815260200160001515815260200160008152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106112c75782800160ff198235161785556112f4565b828001600101855582156112f4579182015b828111156112f45782358255916020019190600101906112d9565b50611300929150611304565b5090565b610b5791905b80821115611300576000815560010161130a565b803561132981611864565b92915050565b805161132981611864565b803561132981611878565b60008083601f84011261135757600080fd5b50813567ffffffffffffffff81111561136f57600080fd5b60208301915083600182028301111561138757600080fd5b9250929050565b6000602082840312156113a057600080fd5b60006113ac848461131e565b949350505050565b6000602082840312156113c657600080fd5b60006113ac848461132f565b60008060008060008060008060008060c08b8d0312156113f157600080fd5b60006113fd8d8d61131e565b9a505060208b013567ffffffffffffffff81111561141a57600080fd5b6114268d828e01611345565b995099505060408b013567ffffffffffffffff81111561144557600080fd5b6114518d828e01611345565b975097505060608b013567ffffffffffffffff81111561147057600080fd5b61147c8d828e01611345565b955095505060808b013567ffffffffffffffff81111561149b57600080fd5b6114a78d828e01611345565b935093505060a06114ba8d828e0161133a565b9150509295989b9194979a5092959850565b6114d581611803565b82525050565b6114d58161180e565b60006114ef826117f6565b6114f981856117fa565b935061150981856020860161182a565b6115128161185a565b9093019392505050565b6114d58161181f565b60006115326013836117fa565b7f4572726f723a206f6e6c794c6f67696320446200000000000000000000000000815260200192915050565b600061156b6029836117fa565b7f4572726f723a206e65774c6f6f6b5570206973206e6f7420616c6c6f7765642081527f746f206265203078300000000000000000000000000000000000000000000000602082015260400192915050565b60006115ca601f836117fa565b7f4e6577206f776e657220616464726573732063616e6e6f742062652030783000815260200192915050565b60006116036013836117fa565b7f53656e646572206973206e6f74206f776e657200000000000000000000000000815260200192915050565b805160e08084526000919084019061164782826114e4565b9150506020830151848203602086015261166182826114e4565b9150506040830151848203604086015261167b82826114e4565b9150506060830151848203606086015261169582826114e4565b91505060808301516116aa60808601826114db565b5060a08301516116bd60a08601826116d8565b5060c08301516116d060c08601826116d8565b509392505050565b6114d581610b57565b6020810161132982846114cc565b6020810161132982846114db565b6020808252810161170e81846114e4565b9392505050565b60e08082528101611726818a6114e4565b9050818103602083015261173a81896114e4565b9050818103604083015261174e81886114e4565b9050818103606083015261176281876114e4565b905061177160808301866114db565b61177e60a08301856116d8565b61178b60c08301846116d8565b98975050505050505050565b60208101611329828461151c565b6020808252810161132981611525565b602080825281016113298161155e565b60208082528101611329816115bd565b60208082528101611329816115f6565b6020808252810161170e818461162f565b5190565b90815260200190565b600061132982611813565b151590565b6001600160a01b031690565b600061132982611803565b60005b8381101561184557818101518382015260200161182d565b83811115611854576000848401525b50505050565b601f01601f191690565b61186d81611803565b811461109c57600080fd5b61186d8161180e56fea265627a7a723058208d3252f879d75c1a82f7abd8f82eb04b652d439d3e794f19c0487f71c6ece2026c6578706572696d656e74616cf50037","source":"pragma solidity ^0.5.4;\npragma experimental ABIEncoderV2;\n\nimport \"./NodeControlInterface.sol\";\nimport \"./NodeControlLookUp.sol\";\nimport \"./Ownable.sol\";\n\n\ncontract NodeControlDb is Ownable {\n    mapping (address => NodeControlInterface.ValidatorState) public currentState;\n\n    NodeControlLookUp public nodeControlLookUp;\n\n    modifier onlyLogic {\n        require(msg.sender == nodeControlLookUp.nodeControlContract(), \"Error: onlyLogic Db\");\n        _;\n    }\n\n    ///@notice Constructor that sets the owner of the database\n    constructor(NodeControlLookUp _lookUpContract, address _initialOwner) \n        public \n    {\n        _transferOwnership(_initialOwner);\n        nodeControlLookUp = _lookUpContract;\n    }\n\n    ///@notice Changes the logic contract (can only be called by the owner of the database)\n    ///@param _newLookUp the new logic that is allowed to write data\n    function changeLookUpContract(address _newLookUp) \n        external \n        onlyOwner \n    {\n        require(_newLookUp != address(0x0), \"Error: newLookUp is not allowed to be 0x0\");\n        nodeControlLookUp = NodeControlLookUp(_newLookUp);\n    }\n\n    ///@notice Sets the state for a validator\n    ///@param _targetValidator The validator whos state needs to be updated\n    ///@param _dockerSha The sha of the dockerfile\n    ///@param _dockerName The name of the dockerfile\n    ///@param _chainSpecSha The sha of the chainSpecFile\n    ///@param _chainSpecUrl The url where the chainSpecFile can be found\n    ///@param _isSigning Indicates if the validator shall sign blocks\n    function setState (\n        address _targetValidator, \n        bytes calldata _dockerSha, \n        string calldata _dockerName, \n        bytes calldata _chainSpecSha, \n        string calldata _chainSpecUrl, \n        bool _isSigning\n    )   \n        external \n        onlyLogic \n    {\n        currentState[_targetValidator].dockerSha = _dockerSha;\n        currentState[_targetValidator].dockerName = _dockerName;\n        currentState[_targetValidator].chainSpecSha = _chainSpecSha;\n        currentState[_targetValidator].chainSpecUrl = _chainSpecUrl;\n        currentState[_targetValidator].isSigning = _isSigning;\n        currentState[_targetValidator].updateIntroduced = block.number;\n    }\n\n    ///@notice Sets the confirm\n    ///@param _targetValidator The validator that confirms the update\n    function setUpdateConfirmed(address _targetValidator) \n        external \n        onlyLogic \n    {\n        currentState[_targetValidator].updateConfirmed = block.number;\n    }\n\n    ///@notice View method to check if an update was confirmed by the validator\n    ///@param _targetValidator The validator that is supposed to be checked\n    function isUpdateConfirmed(address _targetValidator) \n        external \n        view \n        returns(bool) \n    {\n        return (currentState[_targetValidator].updateIntroduced < currentState[_targetValidator].updateConfirmed);\n    }\n\n    ///@notice Gets the state for a validator\n    ///@param _targetValidator The validator whos state you want\n    function getState(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns (NodeControlInterface.ValidatorState memory) \n    {\n        return currentState[_targetValidator];\n    }\n\n    ///@notice Gets the dockerSha\n    ///@param _targetValidator The validator whos dockerSha you want\n    function getDockerSha(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(bytes memory) \n    {\n        return currentState[_targetValidator].dockerSha;\n    }\n\n    ///@notice Gets the dockerName\n    ///@param _targetValidator The validator whos dockerName you want\n    function getDockerName(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(string memory) \n    {\n        return currentState[_targetValidator].dockerName;\n    }\n\n    ///@notice Gets the chainSpecSha\n    ///@param _targetValidator The validator whos chainSpecSha you want\n    function getChainSpecSha(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(bytes memory) \n    {\n        return currentState[_targetValidator].chainSpecSha;\n    }\n\n    ///@notice Gets the chainSpecUrl\n    ///@param _targetValidator The validator whos chainSpecUrl you want\n    function getChainSpecUrl(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(string memory) \n    {\n        return currentState[_targetValidator].chainSpecUrl;\n    }\n\n    ///@notice Gets the isSigning\n    ///@param _targetValidator The validator you want to know of if they are signing\n    function getIsSigning(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(bool) \n    {\n        return currentState[_targetValidator].isSigning;\n    }\n}\n","networks":"{}"}