{"abi":[{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getState","outputs":[{"components":[{"name":"dockerSha","type":"bytes"},{"name":"dockerName","type":"string"},{"name":"chainSpecSha","type":"bytes"},{"name":"chainSpecUrl","type":"string"},{"name":"isSigning","type":"bool"},{"name":"updateIntroduced","type":"uint256"},{"name":"updateConfirmed","type":"uint256"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"nodeControlLookUp","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getChainSpecUrl","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"currentState","outputs":[{"name":"dockerSha","type":"bytes"},{"name":"dockerName","type":"string"},{"name":"chainSpecSha","type":"bytes"},{"name":"chainSpecUrl","type":"string"},{"name":"isSigning","type":"bool"},{"name":"updateIntroduced","type":"uint256"},{"name":"updateConfirmed","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getChainSpecSha","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"setUpdateConfirmed","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getDockerName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"isUpdateConfirmed","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newLookUp","type":"address"}],"name":"changeLookUpContract","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_targetValidator","type":"address"},{"name":"_dockerSha","type":"bytes"},{"name":"_dockerName","type":"string"},{"name":"_chainSpecSha","type":"bytes"},{"name":"_chainSpecUrl","type":"string"},{"name":"_isSigning","type":"bool"}],"name":"setState","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getIsSigning","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_targetValidator","type":"address"}],"name":"getDockerSha","outputs":[{"name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_lookUpContract","type":"address"},{"name":"_owner","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}],"bytecode":"60806040523480156200001157600080fd5b5060405160408062001c8a833981018060405262000033919081019062000158565b60008054600160a060020a0319163317808255604051600160a060020a0391909116919060008051602062001c6a833981519152908290a360028054600160a060020a031916600160a060020a0384161790556200009a81640100000000620000a2810204565b505062000238565b600160a060020a038116620000ee576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000e590620001d2565b60405180910390fd5b60008054604051600160a060020a038085169392169160008051602062001c6a83398151915291a360008054600160a060020a031916600160a060020a0392909216919091179055565b8051620001458162000213565b92915050565b805162000145816200022d565b600080604083850312156200016c57600080fd5b60006200017a85856200014b565b92505060206200018d8582860162000138565b9150509250929050565b6000620001a6601f83620001e4565b7f4e6577206f776e657220616464726573732063616e6e6f742062652030783000815260200192915050565b60208082528101620001458162000197565b90815260200190565b6000620001458262000207565b60006200014582620001ed565b600160a060020a031690565b6200021e81620001ed565b81146200022a57600080fd5b50565b6200021e81620001fa565b611a2280620002486000396000f3fe608060405234801561001057600080fd5b506004361061011d576000357c010000000000000000000000000000000000000000000000000000000090048063954029c9116100b4578063eab7ad9211610083578063eab7ad9214610239578063ee7ee0fd1461024c578063f2fde38b1461025f578063fbd74f84146102725761011d565b8063954029c9146101ed578063a999809f14610200578063b71da0d114610213578063da5393d5146102265761011d565b806370a05b18116100f057806370a05b18146101a6578063715018a6146101b95780638da5cb5b146101c35780638f32d59b146101d85761011d565b80631bab58f5146101225780632c5653e21461014b57806332d91c0e146101605780636a56426114610180575b600080fd5b6101356101303660046114d5565b610285565b604051610142919061192c565b60405180910390f35b610153610611565b60405161014291906118de565b61017361016e3660046114d5565b610620565b6040516101429190611844565b61019361018e3660046114d5565b610799565b604051610142979695949392919061185c565b6101736101b43660046114d5565b610a0d565b6101c1610b4d565b005b6101cb610bd0565b6040516101429190611828565b6101e0610be0565b6040516101429190611836565b6101c16101fb3660046114d5565b610bf1565b61017361020e3660046114d5565b610ceb565b6101e06102213660046114d5565b610e2c565b6101c16102343660046114d5565b610e52565b6101c1610247366004611519565b610edb565b6101e061025a3660046114d5565b611091565b6101c161026d3660046114d5565b611181565b6101736102803660046114d5565b6111b9565b61028d61138e565b600260009054906101000a9004600160a060020a0316600160a060020a0316636ddc4a076040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b1580156102f757600080fd5b505afa15801561030b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061032f91908101906114fb565b600160a060020a031633600160a060020a031614610370576040516000805160206119c98339815191528152600401610367906118ec565b60405180910390fd5b600160a060020a03821660009081526001602081815260409283902083518154601f600260001961010097841615880201909216919091049081018490049093028101840190945260e084018281529092849284918401828280156104165780601f106103eb57610100808354040283529160200191610416565b820191906000526020600020905b8154815290600101906020018083116103f957829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104b85780601f1061048d576101008083540402835291602001916104b8565b820191906000526020600020905b81548152906001019060200180831161049b57829003601f168201915b5050509183525050600282810180546040805160206001841615610100026000190190931694909404601f8101839004830285018301909152808452938101939083018282801561054a5780601f1061051f5761010080835404028352916020019161054a565b820191906000526020600020905b81548152906001019060200180831161052d57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156105de5780601f106105b3576101008083540402835291602001916105de565b820191906000526020600020905b8154815290600101906020018083116105c157829003601f168201915b5050509183525050600482015460ff16151560208201526005820154604082015260069091015460609091015292915050565b600254600160a060020a031681565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051606092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b15801561067e57600080fd5b505afa158015610692573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506106b691908101906114fb565b600160a060020a031633600160a060020a0316146106ee576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a03821660009081526001602081815260409283902060030180548451600294821615610100026000190190911693909304601f810183900483028401830190945283835291929083018282801561078d5780601f106107625761010080835404028352916020019161078d565b820191906000526020600020905b81548152906001019060200180831161077057829003601f168201915b50505050509050919050565b60016020818152600092835260409283902080548451600294821615610100026000190190911693909304601f810183900483028401830190945283835292839183018282801561082b5780601f106108005761010080835404028352916020019161082b565b820191906000526020600020905b81548152906001019060200180831161080e57829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108c95780601f1061089e576101008083540402835291602001916108c9565b820191906000526020600020905b8154815290600101906020018083116108ac57829003601f168201915b50505060028085018054604080516020601f600019610100600187161502019094169590950492830185900485028101850190915281815295969594509092509083018282801561095b5780601f106109305761010080835404028352916020019161095b565b820191906000526020600020905b81548152906001019060200180831161093e57829003601f168201915b5050505060038301805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529495949350908301828280156109eb5780601f106109c0576101008083540402835291602001916109eb565b820191906000526020600020905b8154815290600101906020018083116109ce57829003601f168201915b5050505060048301546005840154600690940154929360ff9091169290915087565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051606092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b158015610a6b57600080fd5b505afa158015610a7f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610aa391908101906114fb565b600160a060020a031633600160a060020a031614610adb576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a0382166000908152600160208181526040928390206002908101805485519481161561010002600019011691909104601f810183900483028401830190945283835291929083018282801561078d5780601f106107625761010080835404028352916020019161078d565b610b55610be0565b610b79576040516000805160206119c983398151915281526004016103679061191c565b60008054604051600160a060020a03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600054600160a060020a03165b90565b600054600160a060020a0316331490565b600260009054906101000a9004600160a060020a0316600160a060020a0316636ddc4a076040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015610c5b57600080fd5b505afa158015610c6f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610c9391908101906114fb565b600160a060020a031633600160a060020a031614610ccb576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a0316600090815260016020526040902043600690910155565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051606092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b158015610d4957600080fd5b505afa158015610d5d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610d8191908101906114fb565b600160a060020a031633600160a060020a031614610db9576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a038216600090815260016020818152604092839020820180548451600294821615610100026000190190911693909304601f810183900483028401830190945283835291929083018282801561078d5780601f106107625761010080835404028352916020019161078d565b600160a060020a0316600090815260016020526040902060068101546005909101541090565b610e5a610be0565b610e7e576040516000805160206119c983398151915281526004016103679061191c565b600160a060020a038116610eac576040516000805160206119c98339815191528152600401610367906118fc565b6002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600260009054906101000a9004600160a060020a0316600160a060020a0316636ddc4a076040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015610f4557600080fd5b505afa158015610f59573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f7d91908101906114fb565b600160a060020a031633600160a060020a031614610fb5576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a038a166000908152600160205260409020610fd8908a8a6113cd565b50600160a060020a038a166000908152600160208190526040909120611000910188886113cd565b50600160a060020a038a1660009081526001602052604090206110279060020186866113cd565b50600160a060020a038a16600090815260016020526040902061104e9060030184846113cd565b50600160a060020a0399909916600090815260016020526040902060048101805460ff19169a15159a909a17909955505043600590970196909655505050505050565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051600092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b1580156110ef57600080fd5b505afa158015611103573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061112791908101906114fb565b600160a060020a031633600160a060020a03161461115f576040516000805160206119c98339815191528152600401610367906118ec565b50600160a060020a031660009081526001602052604090206004015460ff1690565b611189610be0565b6111ad576040516000805160206119c983398151915281526004016103679061191c565b6111b6816112f8565b50565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051606092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b15801561121757600080fd5b505afa15801561122b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061124f91908101906114fb565b600160a060020a031633600160a060020a031614611287576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a03821660009081526001602081815260409283902080548451600294821615610100026000190190911693909304601f810183900483028401830190945283835291929083018282801561078d5780601f106107625761010080835404028352916020019161078d565b600160a060020a038116611326576040516000805160206119c983398151915281526004016103679061190c565b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6040518060e001604052806060815260200160608152602001606081526020016060815260200160001515815260200160008152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061140e5782800160ff1982351617855561143b565b8280016001018555821561143b579182015b8281111561143b578235825591602001919060010190611420565b5061144792915061144b565b5090565b610bdd91905b808211156114475760008155600101611451565b8035611470816119ab565b92915050565b8051611470816119ab565b8035611470816119bf565b60008083601f84011261149e57600080fd5b50813567ffffffffffffffff8111156114b657600080fd5b6020830191508360018202830111156114ce57600080fd5b9250929050565b6000602082840312156114e757600080fd5b60006114f38484611465565b949350505050565b60006020828403121561150d57600080fd5b60006114f38484611476565b60008060008060008060008060008060c08b8d03121561153857600080fd5b60006115448d8d611465565b9a505060208b013567ffffffffffffffff81111561156157600080fd5b61156d8d828e0161148c565b995099505060408b013567ffffffffffffffff81111561158c57600080fd5b6115988d828e0161148c565b975097505060608b013567ffffffffffffffff8111156115b757600080fd5b6115c38d828e0161148c565b955095505060808b013567ffffffffffffffff8111156115e257600080fd5b6115ee8d828e0161148c565b935093505060a06116018d828e01611481565b9150509295989b9194979a5092959850565b61161c8161194a565b82525050565b61161c81611955565b60006116368261193d565b6116408185611941565b9350611650818560208601611971565b611659816119a1565b9093019392505050565b61161c81611966565b6000611679601383611941565b7f4572726f723a206f6e6c794c6f67696320446200000000000000000000000000815260200192915050565b60006116b2602983611941565b7f4572726f723a206e65774c6f6f6b5570206973206e6f7420616c6c6f7765642081527f746f206265203078300000000000000000000000000000000000000000000000602082015260400192915050565b6000611711601f83611941565b7f4e6577206f776e657220616464726573732063616e6e6f742062652030783000815260200192915050565b600061174a601383611941565b7f53656e646572206973206e6f74206f776e657200000000000000000000000000815260200192915050565b805160e08084526000919084019061178e828261162b565b915050602083015184820360208601526117a8828261162b565b915050604083015184820360408601526117c2828261162b565b915050606083015184820360608601526117dc828261162b565b91505060808301516117f16080860182611622565b5060a083015161180460a086018261181f565b5060c083015161181760c086018261181f565b509392505050565b61161c81610bdd565b602081016114708284611613565b602081016114708284611622565b60208082528101611855818461162b565b9392505050565b60e0808252810161186d818a61162b565b90508181036020830152611881818961162b565b90508181036040830152611895818861162b565b905081810360608301526118a9818761162b565b90506118b86080830186611622565b6118c560a083018561181f565b6118d260c083018461181f565b98975050505050505050565b602081016114708284611663565b602080825281016114708161166c565b60208082528101611470816116a5565b6020808252810161147081611704565b602080825281016114708161173d565b602080825281016118558184611776565b5190565b90815260200190565b60006114708261195a565b151590565b600160a060020a031690565b60006114708261194a565b60005b8381101561198c578181015183820152602001611974565b8381111561199b576000848401525b50505050565b601f01601f191690565b6119b48161194a565b81146111b657600080fd5b6119b48161195556fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a72305820d8c0890ad79705713b62451e16814a4d1c21429984f4f7e29653f350d4aa58e96c6578706572696d656e74616cf500378be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0","contractName":"NodeControlDb","deployedBytecode":"608060405234801561001057600080fd5b506004361061011d576000357c010000000000000000000000000000000000000000000000000000000090048063954029c9116100b4578063eab7ad9211610083578063eab7ad9214610239578063ee7ee0fd1461024c578063f2fde38b1461025f578063fbd74f84146102725761011d565b8063954029c9146101ed578063a999809f14610200578063b71da0d114610213578063da5393d5146102265761011d565b806370a05b18116100f057806370a05b18146101a6578063715018a6146101b95780638da5cb5b146101c35780638f32d59b146101d85761011d565b80631bab58f5146101225780632c5653e21461014b57806332d91c0e146101605780636a56426114610180575b600080fd5b6101356101303660046114d5565b610285565b604051610142919061192c565b60405180910390f35b610153610611565b60405161014291906118de565b61017361016e3660046114d5565b610620565b6040516101429190611844565b61019361018e3660046114d5565b610799565b604051610142979695949392919061185c565b6101736101b43660046114d5565b610a0d565b6101c1610b4d565b005b6101cb610bd0565b6040516101429190611828565b6101e0610be0565b6040516101429190611836565b6101c16101fb3660046114d5565b610bf1565b61017361020e3660046114d5565b610ceb565b6101e06102213660046114d5565b610e2c565b6101c16102343660046114d5565b610e52565b6101c1610247366004611519565b610edb565b6101e061025a3660046114d5565b611091565b6101c161026d3660046114d5565b611181565b6101736102803660046114d5565b6111b9565b61028d61138e565b600260009054906101000a9004600160a060020a0316600160a060020a0316636ddc4a076040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b1580156102f757600080fd5b505afa15801561030b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061032f91908101906114fb565b600160a060020a031633600160a060020a031614610370576040516000805160206119c98339815191528152600401610367906118ec565b60405180910390fd5b600160a060020a03821660009081526001602081815260409283902083518154601f600260001961010097841615880201909216919091049081018490049093028101840190945260e084018281529092849284918401828280156104165780601f106103eb57610100808354040283529160200191610416565b820191906000526020600020905b8154815290600101906020018083116103f957829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104b85780601f1061048d576101008083540402835291602001916104b8565b820191906000526020600020905b81548152906001019060200180831161049b57829003601f168201915b5050509183525050600282810180546040805160206001841615610100026000190190931694909404601f8101839004830285018301909152808452938101939083018282801561054a5780601f1061051f5761010080835404028352916020019161054a565b820191906000526020600020905b81548152906001019060200180831161052d57829003601f168201915b505050918352505060038201805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529382019392918301828280156105de5780601f106105b3576101008083540402835291602001916105de565b820191906000526020600020905b8154815290600101906020018083116105c157829003601f168201915b5050509183525050600482015460ff16151560208201526005820154604082015260069091015460609091015292915050565b600254600160a060020a031681565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051606092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b15801561067e57600080fd5b505afa158015610692573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506106b691908101906114fb565b600160a060020a031633600160a060020a0316146106ee576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a03821660009081526001602081815260409283902060030180548451600294821615610100026000190190911693909304601f810183900483028401830190945283835291929083018282801561078d5780601f106107625761010080835404028352916020019161078d565b820191906000526020600020905b81548152906001019060200180831161077057829003601f168201915b50505050509050919050565b60016020818152600092835260409283902080548451600294821615610100026000190190911693909304601f810183900483028401830190945283835292839183018282801561082b5780601f106108005761010080835404028352916020019161082b565b820191906000526020600020905b81548152906001019060200180831161080e57829003601f168201915b505050505090806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108c95780601f1061089e576101008083540402835291602001916108c9565b820191906000526020600020905b8154815290600101906020018083116108ac57829003601f168201915b50505060028085018054604080516020601f600019610100600187161502019094169590950492830185900485028101850190915281815295969594509092509083018282801561095b5780601f106109305761010080835404028352916020019161095b565b820191906000526020600020905b81548152906001019060200180831161093e57829003601f168201915b5050505060038301805460408051602060026001851615610100026000190190941693909304601f81018490048402820184019092528181529495949350908301828280156109eb5780601f106109c0576101008083540402835291602001916109eb565b820191906000526020600020905b8154815290600101906020018083116109ce57829003601f168201915b5050505060048301546005840154600690940154929360ff9091169290915087565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051606092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b158015610a6b57600080fd5b505afa158015610a7f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610aa391908101906114fb565b600160a060020a031633600160a060020a031614610adb576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a0382166000908152600160208181526040928390206002908101805485519481161561010002600019011691909104601f810183900483028401830190945283835291929083018282801561078d5780601f106107625761010080835404028352916020019161078d565b610b55610be0565b610b79576040516000805160206119c983398151915281526004016103679061191c565b60008054604051600160a060020a03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a36000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600054600160a060020a03165b90565b600054600160a060020a0316331490565b600260009054906101000a9004600160a060020a0316600160a060020a0316636ddc4a076040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015610c5b57600080fd5b505afa158015610c6f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610c9391908101906114fb565b600160a060020a031633600160a060020a031614610ccb576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a0316600090815260016020526040902043600690910155565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051606092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b158015610d4957600080fd5b505afa158015610d5d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610d8191908101906114fb565b600160a060020a031633600160a060020a031614610db9576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a038216600090815260016020818152604092839020820180548451600294821615610100026000190190911693909304601f810183900483028401830190945283835291929083018282801561078d5780601f106107625761010080835404028352916020019161078d565b600160a060020a0316600090815260016020526040902060068101546005909101541090565b610e5a610be0565b610e7e576040516000805160206119c983398151915281526004016103679061191c565b600160a060020a038116610eac576040516000805160206119c98339815191528152600401610367906118fc565b6002805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600260009054906101000a9004600160a060020a0316600160a060020a0316636ddc4a076040518163ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040160206040518083038186803b158015610f4557600080fd5b505afa158015610f59573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250610f7d91908101906114fb565b600160a060020a031633600160a060020a031614610fb5576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a038a166000908152600160205260409020610fd8908a8a6113cd565b50600160a060020a038a166000908152600160208190526040909120611000910188886113cd565b50600160a060020a038a1660009081526001602052604090206110279060020186866113cd565b50600160a060020a038a16600090815260016020526040902061104e9060030184846113cd565b50600160a060020a0399909916600090815260016020526040902060048101805460ff19169a15159a909a17909955505043600590970196909655505050505050565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051600092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b1580156110ef57600080fd5b505afa158015611103573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061112791908101906114fb565b600160a060020a031633600160a060020a03161461115f576040516000805160206119c98339815191528152600401610367906118ec565b50600160a060020a031660009081526001602052604090206004015460ff1690565b611189610be0565b6111ad576040516000805160206119c983398151915281526004016103679061191c565b6111b6816112f8565b50565b600254604080517f6ddc4a070000000000000000000000000000000000000000000000000000000081529051606092600160a060020a031691636ddc4a07916004808301926020929190829003018186803b15801561121757600080fd5b505afa15801561122b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525061124f91908101906114fb565b600160a060020a031633600160a060020a031614611287576040516000805160206119c98339815191528152600401610367906118ec565b600160a060020a03821660009081526001602081815260409283902080548451600294821615610100026000190190911693909304601f810183900483028401830190945283835291929083018282801561078d5780601f106107625761010080835404028352916020019161078d565b600160a060020a038116611326576040516000805160206119c983398151915281526004016103679061190c565b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b6040518060e001604052806060815260200160608152602001606081526020016060815260200160001515815260200160008152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061140e5782800160ff1982351617855561143b565b8280016001018555821561143b579182015b8281111561143b578235825591602001919060010190611420565b5061144792915061144b565b5090565b610bdd91905b808211156114475760008155600101611451565b8035611470816119ab565b92915050565b8051611470816119ab565b8035611470816119bf565b60008083601f84011261149e57600080fd5b50813567ffffffffffffffff8111156114b657600080fd5b6020830191508360018202830111156114ce57600080fd5b9250929050565b6000602082840312156114e757600080fd5b60006114f38484611465565b949350505050565b60006020828403121561150d57600080fd5b60006114f38484611476565b60008060008060008060008060008060c08b8d03121561153857600080fd5b60006115448d8d611465565b9a505060208b013567ffffffffffffffff81111561156157600080fd5b61156d8d828e0161148c565b995099505060408b013567ffffffffffffffff81111561158c57600080fd5b6115988d828e0161148c565b975097505060608b013567ffffffffffffffff8111156115b757600080fd5b6115c38d828e0161148c565b955095505060808b013567ffffffffffffffff8111156115e257600080fd5b6115ee8d828e0161148c565b935093505060a06116018d828e01611481565b9150509295989b9194979a5092959850565b61161c8161194a565b82525050565b61161c81611955565b60006116368261193d565b6116408185611941565b9350611650818560208601611971565b611659816119a1565b9093019392505050565b61161c81611966565b6000611679601383611941565b7f4572726f723a206f6e6c794c6f67696320446200000000000000000000000000815260200192915050565b60006116b2602983611941565b7f4572726f723a206e65774c6f6f6b5570206973206e6f7420616c6c6f7765642081527f746f206265203078300000000000000000000000000000000000000000000000602082015260400192915050565b6000611711601f83611941565b7f4e6577206f776e657220616464726573732063616e6e6f742062652030783000815260200192915050565b600061174a601383611941565b7f53656e646572206973206e6f74206f776e657200000000000000000000000000815260200192915050565b805160e08084526000919084019061178e828261162b565b915050602083015184820360208601526117a8828261162b565b915050604083015184820360408601526117c2828261162b565b915050606083015184820360608601526117dc828261162b565b91505060808301516117f16080860182611622565b5060a083015161180460a086018261181f565b5060c083015161181760c086018261181f565b509392505050565b61161c81610bdd565b602081016114708284611613565b602081016114708284611622565b60208082528101611855818461162b565b9392505050565b60e0808252810161186d818a61162b565b90508181036020830152611881818961162b565b90508181036040830152611895818861162b565b905081810360608301526118a9818761162b565b90506118b86080830186611622565b6118c560a083018561181f565b6118d260c083018461181f565b98975050505050505050565b602081016114708284611663565b602080825281016114708161166c565b60208082528101611470816116a5565b6020808252810161147081611704565b602080825281016114708161173d565b602080825281016118558184611776565b5190565b90815260200190565b60006114708261195a565b151590565b600160a060020a031690565b60006114708261194a565b60005b8381101561198c578181015183820152602001611974565b8381111561199b576000848401525b50505050565b601f01601f191690565b6119b48161194a565b81146111b657600080fd5b6119b48161195556fe08c379a000000000000000000000000000000000000000000000000000000000a265627a7a72305820d8c0890ad79705713b62451e16814a4d1c21429984f4f7e29653f350d4aa58e96c6578706572696d656e74616cf50037","source":"pragma solidity ^0.5.0;\npragma experimental ABIEncoderV2;\n\nimport \"../interfaces/INodeControl.sol\";\nimport \"./NodeControlLookUp.sol\";\nimport \"../misc/Ownable.sol\";\n\n\ncontract NodeControlDb is Ownable {\n    mapping (address => INodeControl.ValidatorState) public currentState;\n\n    NodeControlLookUp public nodeControlLookUp;\n\n    modifier onlyLogic {\n        require(msg.sender == nodeControlLookUp.nodeControlContract(), \"Error: onlyLogic Db\");\n        _;\n    }\n\n    /// @notice Constructor that sets the owner of the database\n    constructor(NodeControlLookUp _lookUpContract, address _owner)\n        public \n    {\n        nodeControlLookUp = _lookUpContract;\n        _transferOwnership(_owner);\n    }\n\n    /// @notice Changes the logic contract (can only be called by the owner of the database)\n    /// @param _newLookUp the new logic that is allowed to write data\n    function changeLookUpContract(address _newLookUp) \n        external \n        onlyOwner \n    {\n        require(_newLookUp != address(0x0), \"Error: newLookUp is not allowed to be 0x0\");\n        nodeControlLookUp = NodeControlLookUp(_newLookUp);\n    }\n\n    /// @notice Sets the state for a validator\n    /// @param _targetValidator The validator whos state needs to be updated\n    /// @param _dockerSha The sha of the dockerfile\n    /// @param _dockerName The name of the dockerfile\n    /// @param _chainSpecSha The sha of the chainSpecFile\n    /// @param _chainSpecUrl The url where the chainSpecFile can be found\n    /// @param _isSigning Indicates if the validator shall sign blocks\n    function setState (\n        address _targetValidator, \n        bytes calldata _dockerSha, \n        string calldata _dockerName, \n        bytes calldata _chainSpecSha, \n        string calldata _chainSpecUrl, \n        bool _isSigning\n    )   \n        external \n        onlyLogic \n    {\n        currentState[_targetValidator].dockerSha = _dockerSha;\n        currentState[_targetValidator].dockerName = _dockerName;\n        currentState[_targetValidator].chainSpecSha = _chainSpecSha;\n        currentState[_targetValidator].chainSpecUrl = _chainSpecUrl;\n        currentState[_targetValidator].isSigning = _isSigning;\n        currentState[_targetValidator].updateIntroduced = block.number;\n    }\n\n    /// @notice Sets the confirm\n    /// @param _targetValidator The validator that confirms the update\n    function setUpdateConfirmed(address _targetValidator) \n        external \n        onlyLogic \n    {\n        currentState[_targetValidator].updateConfirmed = block.number;\n    }\n\n    /// @notice View method to check if an update was confirmed by the validator\n    /// @param _targetValidator The validator that is supposed to be checked\n    function isUpdateConfirmed(address _targetValidator) \n        external \n        view \n        returns(bool) \n    {\n        return (currentState[_targetValidator].updateIntroduced < currentState[_targetValidator].updateConfirmed);\n    }\n\n    /// @notice Gets the state for a validator\n    /// @param _targetValidator The validator whos state you want\n    function getState(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns (INodeControl.ValidatorState memory)\n    {\n        return currentState[_targetValidator];\n    }\n\n    /// @notice Gets the dockerSha\n    /// @param _targetValidator The validator whos dockerSha you want\n    function getDockerSha(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(bytes memory) \n    {\n        return currentState[_targetValidator].dockerSha;\n    }\n\n    /// @notice Gets the dockerName\n    /// @param _targetValidator The validator whos dockerName you want\n    function getDockerName(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(string memory) \n    {\n        return currentState[_targetValidator].dockerName;\n    }\n\n    /// @notice Gets the chainSpecSha\n    /// @param _targetValidator The validator whos chainSpecSha you want\n    function getChainSpecSha(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(bytes memory) \n    {\n        return currentState[_targetValidator].chainSpecSha;\n    }\n\n    /// @notice Gets the chainSpecUrl\n    /// @param _targetValidator The validator whos chainSpecUrl you want\n    function getChainSpecUrl(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(string memory) \n    {\n        return currentState[_targetValidator].chainSpecUrl;\n    }\n\n    /// @notice Gets the isSigning\n    /// @param _targetValidator The validator you want to know of if they are signing\n    function getIsSigning(address _targetValidator) \n        external \n        view \n        onlyLogic \n        returns(bool) \n    {\n        return currentState[_targetValidator].isSigning;\n    }\n}\n","networks":"{}"}